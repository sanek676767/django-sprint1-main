# Blogicum

# Отчёт по исправлениям и доработкам проекта Blogicum

В ходе выполнения финального проекта спринта был разработан Django-проект **Blogicum**.
После прохождения автоматических тестов проект был отправлен на код-ревью, по результатам которого были получены обязательные замечания («Надо исправить») и рекомендации («Можно лучше»).
Ниже приведён отчёт о выполненных исправлениях и улучшениях.


## 1. Структура проекта

* Проект развёрнут в виртуальном окружении `venv`
* Используется версия Django, соответствующая требованиям задания
* Зарегистрированы приложения `blog` и `pages`
* Шаблоны размещены на уровне проекта
* Статические файлы вынесены в директорию `static`
* Все автотесты успешно проходят локально (`pytest`)

## 2. Приложение `blog`

### 2.1 Хранение данных о постах

* Добавлена аннотация типов для списка `posts`
* Создан отдельный словарь `POSTS_BY_ID`, где:

  * ключ — `id` поста
  * значение — словарь с данными поста
* Словарь создан с использованием dict comprehension
* Список `posts` сохранён без изменений для совместимости с автотестами

Это позволило отказаться от хрупкой логики, завязанной на индекс элемента в списке.


### 2.2 Обработка отсутствующего поста

* В `post_detail` реализована корректная обработка отсутствующего поста
* Используется возбуждение исключения `Http404`
* Применён подход EAFP (`try / except KeyError`)

Теперь при обращении к несуществующему посту пользователь получает корректную страницу 404.


### 2.3 View-функции

* `index`:

  * передаёт список постов в обратном порядке
* `post_detail`:

  * безопасно возвращает конкретный пост по `id`
* `category_posts`:

  * отображает страницу категории


### 2.4 URLs

* Параметр пути `id` переименован в `post_id` для избежания конфликта со встроенной функцией Python
* Для всех маршрутов указаны `app_name` и `name`
* URL-конфигурация приведена в соответствие с требованиями Django


## 3. Приложение `pages`

* Реализованы страницы:

  * `/pages/about/`
  * `/pages/rules/`
* View-функции возвращают соответствующие шаблоны через `render`
* Рекомендация по использованию `TemplateView` принята к сведению и будет учтена в дальнейшем

## 4. Шаблоны

### 4.1 Базовый шаблон

* Создан базовый шаблон `base.html`
* Вынесены повторяющиеся элементы:

  * `header`
  * `footer`
* Добавлены блоки:

  * `{% block title %}`
  * `{% block content %}`
* Общий контейнер `<div class="container py-5">` вынесен в базовый шаблон


### 4.2 Include-шаблоны

* `header.html` и `footer.html` вынесены в директорию `includes`
* Навигационное меню вынесено в `header.html`
* Реализована подсветка активного пункта меню с использованием:

  ```django
  {% with request.resolver_match.view_name as view_name %}
  ```


### 4.3 Повторяющаяся разметка поста

* Разметка поста вынесена в шаблон `includes/post.html`
* Используется через `{% include %}` в:

  * `index.html`
  * `detail.html`
* Это устранило дублирование HTML-кода и упростило поддержку шаблонов


### 4.4 Шаблоны страниц

* `index.html`:

  * выводит список постов
  * использует include-шаблон поста
* `detail.html`:

  * отображает полный текст поста
* `category.html`:

  * выводит заголовок с названием категории
* `about.html` и `rules.html`:

  * очищены от повторяющегося контейнера
  * используют базовый шаблон


## 5. Статические файлы

* Все CSS и изображения подключены через `{% static %}`
* Подключены favicon-файлы
* Bootstrap используется из локальной статики

## 6. Стиль кода

* Код приведён в соответствие с PEP8
* Исправлены замечания `flake8`
* Импорты отсортированы с использованием `isort`
* Удалены неиспользуемые импорты
* Исправлены лишние пустые строки и пробелы

## 7. Тестирование

* Все автоматические тесты успешно проходят:

  ```bash
  pytest
  ```
